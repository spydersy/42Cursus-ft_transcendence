// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users {
  Id                Int      @id @unique
  Email             String   @unique
  Login             String   @unique
  DefaultAvatar     String
  UploadedAvatar   String?
  Token             String   @unique
  Refresh_token     String   @unique
  Status            String   @unique
  Notifications     Json?
  Wins              Int      @default(0)
  Losses            Int      @default(0)
  Level             Int      @default(0)
  Two_factor_auth   Boolean  @default(false)
  LastModification  DateTime @updatedAt
}

model MatchHistory {
  Id      Int       @id @default(autoincrement())
  Player1 Int
  Player2 Int
  Score1  Int       @default(0)
  Score2  Int       @default(0)
  Mode    String
  Date    DateTime  @default(now())
}

model Friends {
  Id      Int     @id @default(autoincrement())
  User1   Int
  User2   Int
  Status  String
}

model Blocks {
  Id      Int      @id @default(autoincrement())
  User1   Int
  User2   Int
  Date    DateTime @default(now())
}

model Channels {
  Id               Int     @id @default(autoincrement())
  Access           String
  OwnerId          Int
  AdministratorsId Json?
  UsersId          Json?
  Password         String?
}

model BannedMutedUsers {
  Id             Int     @id @default(autoincrement())
  UserId         Int
  Action         String
  ActionTime     DateTime @default(now())
  delay          Int
}

model Messages {
  Id             Int     @id @default(autoincrement())
  SenderId       Int
  ChannelId      Int
  Content        String
}
